<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cardiovascular Risk Predictor</title>
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo_circle.png') }}">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <link rel = 'stylesheet' href="{{ url_for('static', filename='style/chat.css') }}">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
  <style>
  :root {
    --primary: #4361ee;
    --secondary: #3f37c9;
    --accent: #4895ef;
    --light: #f8f9fa;
    --dark: #212529;
  }

  body {
    background-color: #d5d9e9;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    position: relative;
    overflow-x: hidden;
    min-height: 100vh;
  }

  .accent-circle {
    position: fixed;
    border-radius: 50%;
    z-index: -1;
    opacity: 0.5;
  }

  .accent-circle-1 {
    width: 300px;
    height: 300px;
    background-color: rgba(67, 97, 238, 0.15);
    top: -100px;
    left: -100px;
  }

  .accent-circle-2 {
    width: 400px;
    height: 400px;
    background-color: rgba(67, 150, 238, 0.1);
    bottom: -200px;
    right: -200px;
  }

  .accent-circle-3 {
    width: 200px;
    height: 200px;
    background-color: rgba(63, 55, 201, 0.08);
    top: 50%;
    right: 10%;
  }

  .main-container {
    max-width: 1000px;
    margin: 0 auto;
  }

  .header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .header h1 {
    color: var(--primary);
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .header p {
    color: #6c757d;
  }

  .form-container {
    background-color: #ffffff;
    margin: 30px auto;
    max-width: 1200px;
  }

  .card {
    background-color: #ffffff;
    border: none;
    border-radius: 15px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
    padding: 25px;
    margin-bottom: 30px;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .card h3 {
    font-size: 28px;
    font-weight: 600;
    color: #1d3557;
    margin-bottom: 15px;
  }

  .card h5 {
    font-size: 22px;
    margin-top: 20px;
    color: #457b9d;
  }

  .card p {
    font-size: 16px;
    color: #333;
    line-height: 1.6;
  }

  .card ul {
    padding-left: 20px;
  }

  .card li {
    margin-bottom: 10px;
    font-size: 15px;
    color: #444;
  }

  .btn-primary {
    background-color: var(--primary);
    border: none;
    border-radius: 30px;
    font-weight: 500;
    box-shadow: 0 4px 6px rgba(67, 97, 238, 0.25);
    transition: all 0.3s;
    width: fit-content;
    padding: 10px 20px;
    display: block;
    margin: 20px auto;
  }

  .btn-primary:hover {
    background-color: var(--secondary);
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(67, 97, 238, 0.3);
  }

  .back-link {
    display: inline-flex;
    color: #1976d2;
    text-decoration: none;
    font-size: 1rem;
    margin-top: 20px;
    transition: all 0.3s;
    padding: 10px 18px;
    margin-left: 30px;
    margin-right: auto;
  }

  .back-link:hover {
    color: #f80303;
    transform: translateX(-3px) scale(1.03);
    text-decoration: underline;
  }

  .result-card {
      border: none;
      border-radius: 15px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
      overflow: hidden;
    }
    
    .result-header {
      background-color: #f8f9fa;
      padding: 1.5rem;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }

    .prediction-label {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--primary);
    }
    
    .result-body {
      padding: 1.5rem;
      text-align: center;
    }

    .badge-wrapper {
    background-color: #e6fffa;
    color: #0694a2;
    display: inline-block;
    padding: 0.35rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
    margin-bottom: 1rem;
}

  .consult-note {
    font-size: 0.9rem;
    color: #cc0000;
    margin-top: 10px;
  }

  @media (max-width: 768px) {
    .card h3 {
      font-size: 22px;
    }

    .card h5 {
      font-size: 18px;
    }
  }
</style>

</head>
<body>
  <a href="/" class="back-link">
        <span style="margin-right: 5px;">‚Üê</span> Back
    </a>
           <!-- Accent design elements -->
  <div class="accent-circle accent-circle-1"></div>
  <div class="accent-circle accent-circle-2"></div>
  <div class="accent-circle accent-circle-3"></div>

  <!-- <div class="container py-5"> -->
    <div class="main-container">
        <div class="card mb-4">
          <div class="header">
            <h1>Cardiovascular Risk predictor</h1>
        </div>
            <div class="card-body">
                <p style="text-align: justify;">
                   <strong> Cardiovascular disease (CVD)</strong> refers to a group of disorders involving the heart and blood vessels. These include coronary artery disease, heart attacks, strokes, and heart failure. CVD is one of the leading causes of death globally. Early detection and accurate risk assessment play a crucial role in preventing serious complications and improving life expectancy.

Cardiovascular diseases are often caused by a buildup of fatty deposits in the arteries (atherosclerosis) and increased risk from conditions such as hypertension and diabetes. Lifestyle choices, genetics, and environmental factors all contribute to cardiovascular risk.
                </p>
                    <h5>Key Risk Factors</h5>
                <ul>
                    <li><strong>High Blood Pressure (Hypertension):</strong>  Puts extra strain on blood vessels and the heart.</li>
                    <li><strong>High Cholesterol:</strong> Increases plaque formation in arteries, reducing blood flow.</li>
                    <li><strong>Smoking:</strong> Damages the blood vessels and increases heart attack risk.</li>
                    <li><strong>Diabetes:</strong> High blood sugar levels damage arteries over time.</li>
                    <li><strong>Obesity and Overweight:</strong> Increases the workload on the heart and raises blood pressure.</li>
                    <li><strong>Physical Inactivity:</strong> A sedentary lifestyle weakens the heart and circulation.</li>
                    <li><strong>Family History:</strong> Genetic predisposition can significantly raise risk.</li>
                    <li><strong>Unhealthy Diet:</strong> Diets high in saturated fats, salt, and sugar contribute to plaque buildup.</li>
                    <li><strong>Stress:</strong> Long-term stress may raise blood pressure and trigger unhealthy behaviors.</li>
                </ul>
            </div>
        </div>


      <div class="card">
        <div class="card-body">
          <div class="header">
            <h2 style="color: #1976d2;">Cardiovascular Disease Predictor</h2>
        <p>Fill the required parameters to identify potential risk.</p>
      </div>
          <div class="form-container">
        <form method="POST" action="/cardio">
            <!-- Gender Selection -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Gender:</label>
                <div>
                    <label class="radio-inline" style="margin-right: 15px;">
                        <input type="radio" name="gender" value="0" required> Female
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="gender" value="1" required> Male
                    </label>
                </div>
            </div>
            <!-- Age -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Age:</label>
                <input type="number" name="age" class="form-control" required>
            </div>
            <!-- Cigarettes per Day -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Cigarettes per Day:</label>
                <input type="number" name="cigsPerDay" class="form-control" required>
            </div>
            <div class="form-row row">
  <!-- On BP Medication -->
  <div class="form-group col-md-6">
      <label><span style="margin-right: 5px;"></span>On BP Medication?</label>
      <div>
          <label class="radio-inline" style="margin-right: 15px;">
              <input type="radio" name="BPMeds" value="0" required> No
          </label>
          <label class="radio-inline">
              <input type="radio" name="BPMeds" value="1" required> Yes
          </label>
      </div>
  </div>
  <!-- Diabetes -->
  <div class="form-group col-md-6">
      <label><span style="margin-right: 5px;"></span>Diabetes:</label>
      <div>
          <label class="radio-inline" style="margin-right: 15px;">
              <input type="radio" name="diabetes" value="0" required> No
          </label>
          <label class="radio-inline">
              <input type="radio" name="diabetes" value="1" required> Yes
          </label>
      </div>
  </div>
</div>

            <!-- Total Cholesterol -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Total Cholesterol:</label>
                <input type="number" name="totChol" class="form-control" required>
            </div>
            <!-- Systolic BP -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Systolic BP:</label>
                <input type="number" name="sysBP" class="form-control" required>
            </div>
            <!-- Diastolic BP -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Diastolic BP:</label>
                <input type="number" name="diaBP" class="form-control" required>
            </div>
            <!-- BMI -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>BMI:</label>
                <input type="number" step="0.1" name="BMI" class="form-control" required>
            </div>
            <!-- Heart Rate -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Heart Rate:</label>
                <input type="number" name="heartRate" class="form-control" required>
            </div>
            <!-- Glucose Level -->
            <div class="form-group">
                <label><span style="margin-right: 5px;"></span>Glucose Level:</label>
                <input type="number" name="glucose" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary px-5 mt-3" style="position: relative; left: 1px; top: 40px; transition: none;">
                <i class="fas fa-search-plus me-2"></i>Generate Assessment
            </button>
        </form>
        </div>
    </div>
</div>
      
      {% if prediction %}
<div class="result-card">
  <div class="result-header">
    <div class="badge-wrapper">Analysis Complete</div>
    <h4 class="mb-1">Result</h4>
    <span class="prediction-label">
      {% if prediction == "High Risk" %}
        üö® {{ prediction }}
      {% else %}
        ‚úÖ {{ prediction }}
      {% endif %}
    </span>
  </div>
  <div class="result-body">
    <p class="consult-note">Note: This result is generated by an AI model. Please consult a medical professional for an accurate diagnosis and advice.</p>
  </div>
</div>
{% endif %}
      
  <!-- Chat Button -->
  <div class="chat-button" id="chat-button">
    <i class="fas fa-comments chat-icon"></i>
  </div>
    <div class="chat-container" id="chat-container">
      <div class="chat-header">
        Health AI Bot
        <span id="chat-close" style="float:right;cursor:pointer;">‚úï</span>
      </div>
      <div class="chat-messages" id="chat-messages">
        <!-- messages will go here -->
      </div>
      <div class="chat-input">
        <input type="text" id="chat-input" placeholder="Type a message‚Ä¶" />
        <button id="chat-send">Send</button>
      </div>
  </div>

  <!-- Progress Bar -->
<div class="progress mt-3" id="progress-bar" style="display:none;">
  <div class="progress-bar" role="progressbar" id="progress" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
</div>

</body>
<script src="{{ url_for('static', filename='script/chat.js') }}"></script>
</html>

